- name: Add Preview Link to PR
  uses: actions/github-script@v6
  with:
    script: |
      const { data: comment } = await github.rest.issues.createComment({
        issue_number: context.issue.number,
        owner: context.repo.owner,
        repo: context.repo.repo,
        body: `
### ðŸš€ Preview Deployment Ready!

Your changes have been successfully deployed to a preview environment. Here are the details:

| **Preview URL**     | [${process.env.DEPLOYMENT_URL}](${process.env.DEPLOYMENT_URL}) |
| **Deployment Type** | Preview                           |
| **Branch**          | ${context.ref}                    |

**Next Steps:**
- Review the changes on the preview URL.
- Share the preview URL with your team for feedback.
- Once PR is approved, merge it ðŸŽ‰
`,
      });
      console.log(`Comment added: ${comment.html_url}`);
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}